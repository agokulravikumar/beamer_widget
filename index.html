<html>
<head>
	<title>Beamer Widget</title>
</head>
<body>
<p>Hello! Welcome to <a href='#' id="test-selector">Beamer Widget</a>!</p>
	<div id="embed-area"></div>
<script>
	var url_string = window.location.href;
    	var url = new URL(url_string);
	
    	var pid = url.searchParams.get("pid");
	var cuid = url.searchParams.get("cuid");
	var email = url.searchParams.get("email");
	var fname = url.searchParams.get("fname");
	var lname = url.searchParams.get("lname");
	var embed = url.searchParams.get("embed");
	var selector = url.searchParams.get("selector");
	var filter = url.searchParams.get("filter");
	var ffilter = url.searchParams.get("ffilter");

	var beamer_config = {
		product_id : pid ? pid : 'ppbgePUs63815',
		addl_roles: [1,2,3]
	};

	if (filter) {
		beamer_config['filter'] = filter;
	}

	if (ffilter) {
		beamer_config['force_filter'] = ffilter;
	}
	
	if (selector) {
		beamer_config['selector'] = 'test-selector';
	}
	
	if (embed) {
		beamer_config['embed'] = true;
		beamer_config['selector'] = 'embed-area';
	}

	if (cuid) {
	    beamer_config['user_id'] = cuid;
	}

	if (email) {
	    beamer_config['user_email'] = email;
	}

	if (fname) {
	    beamer_config['user_firstname'] = fname;
	}

	if (lname) {
		beamer_config['user_lastname'] = lname;
	}
</script>
<script type="text/javascript" src="https://app.getbeamer.com/js/beamer-embed.js" defer="defer"></script>
</body>
</html>
